<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>es键盘使用</title>
  <link rel="stylesheet" href="https://unpkg.com/vehicle-keyboard-js@1.1.1/lib/style/default.css">
  </link>
  <!-- <link rel="stylesheet" href="../src/keyboard.css"> -->
</head>

<body>
  <!-- <input class="inp" > -->
  <div class='inp'></div>
  <div class="keyboard"></div>
  <button class='reset'>重置</button>
  <button class='show'>显示</button>
  <button class='hide'>隐藏</button>
  <script type="module">
    import Keyboard from 'https://unpkg.com/vehicle-keyboard-js@1.1.1/lib/Keyboard.js'
    // import Keyboard from '../src/Keyboard.js'
    const buttonEls = document.querySelectorAll('button');
    const keyboard = new Keyboard({
      boxName: ".keyboard",
      // writeBoxName: ".inp",
      entryInputName: ".inp",
      defaultVehicleValue: "鄂j401",
      pushCh: ['中', '国', '加', "油"],
      pushEn: ['1'],
      enabledEn: ['O', 'j', '1'],
      enabledCh: ['油'],
      externalKeyboard: true,//是否启用自己的键盘
      onBackpace: function () {
        console.log("onBackpace=>删除事件的回调")
        console.log(keyboard.getVehicleValue());
      },
      onChange(val) {
        console.log('onchange', val);
      }
    });

    keyboard.init();

    Array.from(buttonEls).forEach(el => {
      el.addEventListener('click', (event) => {
        switch (el.className) {
          case 'reset':
            keyboard.initValue();
            break;
          case 'show':
            keyboard.show();
            // window.event ? window.event.cancelBubble = true : e.stopPropagation();
            break;
          case 'hide':
            keyboard.hide();
            break;
        }
      })
    })
  </script>
</body>

</html>